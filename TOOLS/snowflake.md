


# 1 Початок 30-денного безкоштовного пробного періоду Snowflake

Обговоримо, як розпочати 30-денний безкоштовний пробний період Snowflake. Варто зазначити, що ваш пробний період може закінчитися раніше, ніж через 30 днів, якщо ви використаєте кредити на суму $400. 

## Крок 1: Перехід на сайт

Посилання - https://signup.snowflake.com/

Ви можете безпосередньо відкрити цю веб-сторінку звідти. Тепер давайте почнемо реєстрацію.

## Крок 2: Введення особистих даних

Вам потрібно буде надати такі дані:
- Електронна пошта компанії (наприклад, ваша робоча пошта)
- Назва компанії (наприклад, "ABC Private Limited")
- Ваша роль у компанії (виберіть відповідну, наприклад, "Аналітик даних")
- Регіон (виберіть, наприклад, "США")

Після заповнення даних натисніть "Продовжити".

## Крок 3: Вибір редакції Snowflake

Тепер ви побачите різні типи редакцій Snowflake та різноманітні послуги, що пропонуються в рамках цих редакцій.

Якщо говорити про редакцію Business Critical, ви бачите, що вона включає все, що надається в редакції Enterprise, а також додаткові функції, такі як:
- Підвищена безпека
- Захист даних
- Аварійне перемикання бази даних

Для нашого тестування виберемо редакцію Business Critical.

## Крок 4: Вибір хмарного провайдера

Далі вам потрібно вибрати хмарного провайдера:
- Виберіть AWS
- Оберіть регіон "US East" (або інший регіон, залежно від того, де ви працюєте)
- Поставте відмітку у відповідному полі

Ви можете вибрати регіон залежно від того, в якому регіоні ви працюєте. Після вибору хмарного провайдера та регіону натисніть "Почати".

## Крок 5: Підтвердження та верифікація

- Виберіть усі необхідні поля для верифікації
- Підтвердіть вибір
- Ви можете надати додаткові базові дані або пропустити цей крок

## Крок 6: Активація облікового запису

Електронний лист для активації вашого облікового запису буде надіслано на вказану вами адресу.

- Відкрийте свою електронну пошту
- Знайдіть лист від Snowflake та натисніть "Натисніть для активації"
- Це може зайняти деякий час

## Крок 7: Завершення реєстрації

Тепер вам потрібно створити ім'я користувача та пароль:
- Введіть ім'я користувача (наприклад, "S_tutorial")
- Створіть надійний пароль
- Натисніть "Почати"
- Збережіть ваші дані для входу
- За бажанням, можна пропустити додаткові налаштування

## Висновок

Таким чином ви можете створити свій обліковий запис Snowflake. 


# 2 Створення SQL-робочого аркуша у Snowflake

Спробуємо створити SQL-робочий аркуш, де будемо виконувати прості SQL-запити, щоб зрозуміти інтерфейс, навчитися створювати SQL-робочий аркуш та виконувати наші SQL-оператори.

## 2 Створення SQL-робочого аркуша

1. Спочатку просто натискаємо на "Проекти" (Projects).
2. Під проектами у нас є розділ "Робочі аркуші" (Worksheets).
3. Тут у випадаючому меню натискаємо на "SQL-робочий аркуш" (SQL Worksheet).
4. Система створить для нас SQL-робочий аркуш.

## Перейменування робочого аркуша

Ми можемо перейменувати його:
1. Натискаємо на три крапки.
2. Обираємо опцію "Перейменувати" (Rename).
3. Дамо йому назву "Перший SQL-запит".
4. Натискаємо Enter.

## Вибір бази даних і схеми

1. Якщо далі натиснемо на "Бази даних" (Databases), то побачимо, що у нас є "Snowflake Sample Data".
2. Натискаємо на випадаюче меню вгорі, де зараз написано "База даних не вибрана" (No database selected).
3. Вибираємо цю базу даних зі списку.
4. Після цього вибираємо схему "TPC-H SF1".
5. Коли вибрали, просто клацаємо на порожній робочий аркуш на екрані.

## Огляд доступних таблиць

1. Тепер, якщо натиснемо на випадаюче меню зліва, то побачимо наступні схеми.
2. Далі натискаємо на випадаюче меню перед схемою "TPC-H SF1".
3. Потім натискаємо на випадаюче меню перед "Таблицями" (Tables), і бачимо всі доступні таблиці.

## Виконання SQL-запитів

### Запит 1: Перегляд перших 10 записів із таблиці Customer

Припустимо, ми хочемо переглянути перші 10 записів із таблиці Customer:

```sql
SELECT TOP 10 * FROM customer
```

Натискаємо Ctrl+Enter для виконання цього оператора.

Бачимо дані та доступні стовпці в цій таблиці:
- C_CUSTKEY
- C_NAME
- та інші стовпці, які видно на екрані.

### Виконання вибраного коду

Якщо хочете виконати будь-який оператор SELECT або інший SQL-код:
1. Просто виділіть потрібний фрагмент коду.
2. Натисніть кнопку справа вгорі або натисніть Ctrl+Enter.

### Запит 2: Перегляд перших 10 записів із таблиці LINEITEM

```sql
SELECT * FROM lineitem LIMIT 10
```

Виділяємо цей оператор і виконуємо його.

Бачимо перші 10 записів із цієї таблиці та всі доступні стовпці.

### Запит 3: Вибір окремих стовпців

Припустимо, ми хочемо переглянути дані лише для двох стовпців із таблиці LINEITEM:

```sql
SELECT L_ORDERKEY, L_PARTKEY FROM lineitem
```

Виділяємо цей оператор і натискаємо Ctrl+Enter.

Виконання може зайняти деякий час, і ось результат, який ми бачимо.

## Висновок

Таким чином, ми можемо створювати SQL-робочі аркуші та виконувати запити.

В наступних заняттях ми обговоримо інші важливі теми, зокрема створення баз даних та сховищ даних (warehouses).



# 3 Архітектура Snowflake

Обговоримо архітектуру Snowflake. Перш за все, вам слід знати, що Snowflake — це сховище даних, яке працює на хмарній інфраструктурі.  
Крім того, на попередньому занятті ми вже обговорили створення SQL-робочого аркуша. У Snowflake ми також можемо писати SQL-код та виконувати його для різних цілей: для виконання перетворень даних, створення схеми бази даних, створення таблиць, завантаження даних у таблиці, створення віртуальних сховищ тощо. У нас уже є розділ Microsoft SQL Server, де ми обговорили SQL. Тут синтаксис може дещо відрізнятися, але в будь-якому випадку ми можемо створювати SQL-робочі аркуші та виконувати певні операції та завдання за допомогою SQL у Snowflake. Ми обговоримо цю частину в наступних заняттях.

## Основи архітектури Snowflake

Якщо говорити про архітектуру Snowflake, то вона відокремлює рівень зберігання від обчислювального рівня. Це розділення дуже корисне для оптимізації витрат.

У Snowflake є два основних поняття:
1. База даних
2. Віртуальні сховища (Virtual Warehouses)

У Snowflake ми можемо створити базу даних, потім схему, таблиці, а потім завантажити дані в ці таблиці. Ці дані зберігаються на хмарній платформі. Snowflake використовує хмарні платформи для зберігання даних, і клієнт або замовник, який використовує ці послуги, повинен платити за це зберігання.

## Віртуальні сховища (Virtual Warehouses)

Крім того, у Snowflake є концепція віртуальних сховищ. Ця концепція з'являється, коли нам потрібно виконати обробку запитів або виконати деякі запити. Ресурси розподіляються саме через ці віртуальні сховища.

Віртуальні сховища доступні в різних розмірах. Ви можете бачити різні розміри і вони мають різну кількість вузлів. Залежно від вимог можна створювати та використовувати різні сховища різних розмірів.

Щоразу, коли потрібно виконати запит, необхідно виділити певні ресурси. І це можна зробити лише через ці віртуальні сховища.

Крім того, можуть бути обставини або ситуації, коли є складні запити та ресурсоємні запити. У таких випадках може знадобитися масштабування вгору або вниз. Тоді ми можемо використовувати мульти-кластерні віртуальні сховища.

У нас є концепція мульти-кластерних сховищ, і ми обговоримо це докладніше в наступних заняттях, коли будемо створювати сховища в Snowflake. Але для роботи з ресурсоємними запитами також можна створювати мульти-кластерні віртуальні сховища. Якщо потрібно більше ресурсів, це може бути дуже корисно і вигідно.

## Три рівні архітектури Snowflake

Підсумовуючи архітектуру, у нас є три рівні:

1. **Рівень зберігання бази даних** (внизу)
   - Коли дані завантажуються в Snowflake, вони стискаються і зберігаються у стовпчиковому форматі
   - Snowflake зберігає ці оптимізовані дані у хмарному сховищі
   - Клієнт або замовник повинен платити за зберігання даних

2. **Рівень обробки запитів** (середній)
   - Його також можна назвати обчислювальним рівнем
   - Саме тут з'являється концепція віртуальних сховищ
   - Через ці сховища розподіляються ресурси і виконується обробка запитів

3. **Рівень хмарних сервісів** (вгорі)
   - Координує всі дії в Snowflake
   - Допомагає в аутентифікації та контролі доступу


# Посилання:

- Modern SQL in Snowflake: Designed for Simplicity for Complex Tasks, https://medium.com/snowflake/modern-sql-in-snowflake-designed-for-simplicity-for-complex-tasks-cbbe568a18dd
- 



